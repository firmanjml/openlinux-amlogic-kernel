/*
 * TVIN Modules Exported Header File
 *
 * Author: Lin Xu <lin.xu@amlogic.com>
 *         Bobby Yang <bo.yang@amlogic.com>
 *
 * Copyright (C) 2010 Amlogic Inc.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 */


#ifndef __TVIN_H
#define __TVIN_H


typedef enum tvin_port_e {
	TVIN_PORT_NULL    = 0x0000,
	TVIN_PORT_MPEG0   = 0x0100,
	TVIN_PORT_BT656   = 0x0200,
	TVIN_PORT_BT601,
	TVIN_PORT_CAMERA,
	TVIN_PORT_VGA0    = 0x0400,
	TVIN_PORT_VGA1,
	TVIN_PORT_VGA2,
	TVIN_PORT_VGA3,
	TVIN_PORT_VGA4,
	TVIN_PORT_VGA5,
	TVIN_PORT_VGA6,
	TVIN_PORT_VGA7,
	TVIN_PORT_COMP0   = 0x0800,
	TVIN_PORT_COMP1,
	TVIN_PORT_COMP2,
	TVIN_PORT_COMP3,
	TVIN_PORT_COMP4,
	TVIN_PORT_COMP5,
	TVIN_PORT_COMP6,
	TVIN_PORT_COMP7,
	TVIN_PORT_CVBS0   = 0x1000,
	TVIN_PORT_CVBS1,
	TVIN_PORT_CVBS2,
	TVIN_PORT_CVBS3,
	TVIN_PORT_CVBS4,
	TVIN_PORT_CVBS5,
	TVIN_PORT_CVBS6,
	TVIN_PORT_CVBS7,
	TVIN_PORT_SVIDEO0 = 0x2000,
	TVIN_PORT_SVIDEO1,
	TVIN_PORT_SVIDEO2,
	TVIN_PORT_SVIDEO3,
	TVIN_PORT_SVIDEO4,
	TVIN_PORT_SVIDEO5,
	TVIN_PORT_SVIDEO6,
	TVIN_PORT_SVIDEO7,
	TVIN_PORT_HDMI0   = 0x4000,
	TVIN_PORT_HDMI1,
	TVIN_PORT_HDMI2,
	TVIN_PORT_HDMI3,
	TVIN_PORT_HDMI4,
	TVIN_PORT_HDMI5,
	TVIN_PORT_HDMI6,
	TVIN_PORT_HDMI7,
	TVIN_PORT_DVIN0   = 0x8000,
	TVIN_PORT_MAX     = 0x10000000,
} tvin_port_t;

/* tvin signal format table */
typedef enum tvin_sig_fmt_e {
    TVIN_SIG_FMT_NULL = 0,
	//VGA Formats
    TVIN_SIG_FMT_VGA_512X384P_60D147,
    TVIN_SIG_FMT_VGA_560X384P_60D147,
    TVIN_SIG_FMT_VGA_640X200P_59D924,
    TVIN_SIG_FMT_VGA_640X350P_85D080,
    TVIN_SIG_FMT_VGA_640X400P_59D940,
    TVIN_SIG_FMT_VGA_640X400P_85D080,
    TVIN_SIG_FMT_VGA_640X400P_59D638,
    TVIN_SIG_FMT_VGA_640X400P_56D416,
    TVIN_SIG_FMT_VGA_640X480I_29D970,
    TVIN_SIG_FMT_VGA_640X480P_66D619,
    TVIN_SIG_FMT_VGA_640X480P_66D667,
    TVIN_SIG_FMT_VGA_640X480P_59D940,
    TVIN_SIG_FMT_VGA_640X480P_60D000,
    TVIN_SIG_FMT_VGA_640X480P_72D809,
    TVIN_SIG_FMT_VGA_640X480P_75D000_A,
    TVIN_SIG_FMT_VGA_640X480P_85D008,
    TVIN_SIG_FMT_VGA_640X480P_59D638,
    TVIN_SIG_FMT_VGA_640X480P_75D000_B,
    TVIN_SIG_FMT_VGA_640X870P_75D000,
    TVIN_SIG_FMT_VGA_720X350P_70D086,
    TVIN_SIG_FMT_VGA_720X400P_85D039,
    TVIN_SIG_FMT_VGA_720X400P_70D086,
    TVIN_SIG_FMT_VGA_720X400P_87D849,
    TVIN_SIG_FMT_VGA_720X400P_59D940,
    TVIN_SIG_FMT_VGA_720X480P_59D940,
    TVIN_SIG_FMT_VGA_752X484I_29D970,
    TVIN_SIG_FMT_VGA_768X574I_25D000,
    TVIN_SIG_FMT_VGA_800X600P_56D250,
    TVIN_SIG_FMT_VGA_800X600P_60D317,
    TVIN_SIG_FMT_VGA_800X600P_72D188,
    TVIN_SIG_FMT_VGA_800X600P_75D000,
    TVIN_SIG_FMT_VGA_800X600P_85D061,
    TVIN_SIG_FMT_VGA_832X624P_75D087,
    TVIN_SIG_FMT_VGA_848X480P_84D751,
    TVIN_SIG_FMT_VGA_1024X768P_59D278,
    TVIN_SIG_FMT_VGA_1024X768P_74D927,
    TVIN_SIG_FMT_VGA_1024X768I_43D479,
    TVIN_SIG_FMT_VGA_1024X768P_60D004,
    TVIN_SIG_FMT_VGA_1024X768P_70D069,
    TVIN_SIG_FMT_VGA_1024X768P_75D029,
    TVIN_SIG_FMT_VGA_1024X768P_84D997,
    TVIN_SIG_FMT_VGA_1024X768P_60D000,
    TVIN_SIG_FMT_VGA_1024X768P_74D925,
    TVIN_SIG_FMT_VGA_1024X768P_75D020,
    TVIN_SIG_FMT_VGA_1024X768P_70D008,
    TVIN_SIG_FMT_VGA_1024X768P_75D782,
    TVIN_SIG_FMT_VGA_1024X768P_77D069,
    TVIN_SIG_FMT_VGA_1024X768P_71D799,
    TVIN_SIG_FMT_VGA_1024X1024P_60D000,
    TVIN_SIG_FMT_VGA_1053X754I_43D453,
    TVIN_SIG_FMT_VGA_1056X768I_43D470,
    TVIN_SIG_FMT_VGA_1120X750I_40D021,
    TVIN_SIG_FMT_VGA_1152X864P_70D012,
    TVIN_SIG_FMT_VGA_1152X864P_75D000,
    TVIN_SIG_FMT_VGA_1152X864P_84D999,
    TVIN_SIG_FMT_VGA_1152X870P_75D062,
    TVIN_SIG_FMT_VGA_1152X900P_65D950,
    TVIN_SIG_FMT_VGA_1152X900P_66D004,
    TVIN_SIG_FMT_VGA_1152X900P_76D047,
    TVIN_SIG_FMT_VGA_1152X900P_76D149,
    TVIN_SIG_FMT_VGA_1244X842I_30D000,
    TVIN_SIG_FMT_VGA_1280X768P_59D995,
    TVIN_SIG_FMT_VGA_1280X768P_74D893,
    TVIN_SIG_FMT_VGA_1280X768P_84D837,
    TVIN_SIG_FMT_VGA_1280X960P_60D000,
    TVIN_SIG_FMT_VGA_1280X960P_75D000,
    TVIN_SIG_FMT_VGA_1280X960P_85D002,
    TVIN_SIG_FMT_VGA_1280X1024I_43D436,
    TVIN_SIG_FMT_VGA_1280X1024P_60D020,
    TVIN_SIG_FMT_VGA_1280X1024P_75D025,
    TVIN_SIG_FMT_VGA_1280X1024P_85D024,
    TVIN_SIG_FMT_VGA_1280X1024P_59D979,
    TVIN_SIG_FMT_VGA_1280X1024P_72D005,
    TVIN_SIG_FMT_VGA_1280X1024P_60D002,
    TVIN_SIG_FMT_VGA_1280X1024P_67D003,
    TVIN_SIG_FMT_VGA_1280X1024P_74D112,
    TVIN_SIG_FMT_VGA_1280X1024P_76D179,
    TVIN_SIG_FMT_VGA_1280X1024P_66D718,
    TVIN_SIG_FMT_VGA_1280X1024P_66D677,
    TVIN_SIG_FMT_VGA_1280X1024P_76D107,
    TVIN_SIG_FMT_VGA_1280X1024P_59D996,
    TVIN_SIG_FMT_VGA_1360X768P_59D799,
    TVIN_SIG_FMT_VGA_1360X1024I_51D476,
    TVIN_SIG_FMT_VGA_1440X1080P_60D000,
    TVIN_SIG_FMT_VGA_1600X1200I_48D040,
    TVIN_SIG_FMT_VGA_1600X1200P_60D000,
    TVIN_SIG_FMT_VGA_1600X1200P_65D000,
    TVIN_SIG_FMT_VGA_1600X1200P_70D000,
    TVIN_SIG_FMT_VGA_1600X1200P_75D000,
    TVIN_SIG_FMT_VGA_1600X1200P_80D000,
    TVIN_SIG_FMT_VGA_1600X1200P_85D000,
    TVIN_SIG_FMT_VGA_1600X1280P_66D931,
    TVIN_SIG_FMT_VGA_1680X1080P_60D000,
    TVIN_SIG_FMT_VGA_1792X1344P_60D000,
    TVIN_SIG_FMT_VGA_1792X1344P_74D997,
    TVIN_SIG_FMT_VGA_1856X1392P_59D995,
    TVIN_SIG_FMT_VGA_1856X1392P_75D000,
    TVIN_SIG_FMT_VGA_1868X1200P_75D000,
    TVIN_SIG_FMT_VGA_1920X1080P_60D000,
    TVIN_SIG_FMT_VGA_1920X1080P_75D000,
    TVIN_SIG_FMT_VGA_1920X1080P_85D000,
    TVIN_SIG_FMT_VGA_1920X1200P_84D932,
    TVIN_SIG_FMT_VGA_1920X1200P_75D000,
    TVIN_SIG_FMT_VGA_1920X1200P_85D000,
    TVIN_SIG_FMT_VGA_1920X1234P_75D000,
    TVIN_SIG_FMT_VGA_1920X1234P_85D000,
    TVIN_SIG_FMT_VGA_1920X1440P_60D000,
    TVIN_SIG_FMT_VGA_1920X1440P_75D000,
    TVIN_SIG_FMT_VGA_2048X1536P_60D000_A,
    TVIN_SIG_FMT_VGA_2048X1536P_75D000,
    TVIN_SIG_FMT_VGA_2048X1536P_60D000_B,
    TVIN_SIG_FMT_VGA_2048X2048P_60D008,
    TVIN_SIG_FMT_VGA_MAX,
    //Component Formats
    TVIN_SIG_FMT_COMPONENT_480P_60D000,
    TVIN_SIG_FMT_COMPONENT_480I_59D940,
    TVIN_SIG_FMT_COMPONENT_576P_50D000,
    TVIN_SIG_FMT_COMPONENT_576I_50D000,
    TVIN_SIG_FMT_COMPONENT_720P_59D940,
    TVIN_SIG_FMT_COMPONENT_720P_50D000,
    TVIN_SIG_FMT_COMPONENT_1080P_23D976,
    TVIN_SIG_FMT_COMPONENT_1080P_24D000,
    TVIN_SIG_FMT_COMPONENT_1080P_25D000,
    TVIN_SIG_FMT_COMPONENT_1080P_30D000,
    TVIN_SIG_FMT_COMPONENT_1080P_50D000,
    TVIN_SIG_FMT_COMPONENT_1080P_60D000,
    TVIN_SIG_FMT_COMPONENT_1080I_47D952,
    TVIN_SIG_FMT_COMPONENT_1080I_48D000,
    TVIN_SIG_FMT_COMPONENT_1080I_50D000_A,
    TVIN_SIG_FMT_COMPONENT_1080I_50D000_B,
    TVIN_SIG_FMT_COMPONENT_1080I_50D000_C,
    TVIN_SIG_FMT_COMPONENT_1080I_60D000,
    TVIN_SIG_FMT_COMPONENT_MAX,
    TVIN_SIG_FMT_HDMI_640x480P_60Hz,
    TVIN_SIG_FMT_HDMI_720x480P_60Hz,
    TVIN_SIG_FMT_HDMI_1280x720P_60Hz,
    TVIN_SIG_FMT_HDMI_1920x1080I_60Hz,
    TVIN_SIG_FMT_HDMI_1440x480I_60Hz,
    TVIN_SIG_FMT_HDMI_1440x240P_60Hz,
    TVIN_SIG_FMT_HDMI_2880x480I_60Hz,
    TVIN_SIG_FMT_HDMI_2880x240P_60Hz,
    TVIN_SIG_FMT_HDMI_1440x480P_60Hz,
    TVIN_SIG_FMT_HDMI_1920x1080P_60Hz,
    TVIN_SIG_FMT_HDMI_720x576P_50Hz,
    TVIN_SIG_FMT_HDMI_1280x720P_50Hz,
    TVIN_SIG_FMT_HDMI_1920x1080I_50Hz_A,
    TVIN_SIG_FMT_HDMI_1440x576I_50Hz,
    TVIN_SIG_FMT_HDMI_1440x288P_50Hz,
    TVIN_SIG_FMT_HDMI_2880x576I_50Hz,
    TVIN_SIG_FMT_HDMI_2880x288P_50Hz,
    TVIN_SIG_FMT_HDMI_1440x576P_50Hz,
    TVIN_SIG_FMT_HDMI_1920x1080P_50Hz,
    TVIN_SIG_FMT_HDMI_1920x1080P_24Hz,
    TVIN_SIG_FMT_HDMI_1920x1080P_25Hz,
    TVIN_SIG_FMT_HDMI_1920x1080P_30Hz,
    TVIN_SIG_FMT_HDMI_2880x480P_60Hz,
    TVIN_SIG_FMT_HDMI_2880x576P_60Hz,
    TVIN_SIG_FMT_HDMI_1920x1080I_50Hz_B,
    TVIN_SIG_FMT_HDMI_1920x1080I_100Hz,
    TVIN_SIG_FMT_HDMI_1280x720P_100Hz,
    TVIN_SIG_FMT_HDMI_720x576P_100Hz,
    TVIN_SIG_FMT_HDMI_1440x576I_100Hz,
    TVIN_SIG_FMT_HDMI_1920x1080I_120Hz,
    TVIN_SIG_FMT_HDMI_1280x720P_120Hz,
    TVIN_SIG_FMT_HDMI_720x480P_120Hz,
    TVIN_SIG_FMT_HDMI_1440x480I_120Hz,
    TVIN_SIG_FMT_HDMI_720x576P_200Hz,
    TVIN_SIG_FMT_HDMI_1440x576I_200Hz,
    TVIN_SIG_FMT_HDMI_720x480P_240Hz,
    TVIN_SIG_FMT_HDMI_1440x480I_240Hz,
    TVIN_SIG_FMT_HDMI_1280x720P_24Hz,
    TVIN_SIG_FMT_HDMI_1280x720P_25Hz,
    TVIN_SIG_FMT_HDMI_1280x720P_30Hz,
    TVIN_SIG_FMT_HDMI_1920x1080P_120Hz,
    TVIN_SIG_FMT_HDMI_1920x1080P_100Hz,
    TVIN_SIG_FMT_HDMI_MAX,
    TVIN_SIG_FMT_CVBS_NTSC_M,
    TVIN_SIG_FMT_CVBS_NTSC_443,
    TVIN_SIG_FMT_CVBS_PAL_I,
    TVIN_SIG_FMT_CVBS_PAL_M,
    TVIN_SIG_FMT_CVBS_PAL_60,
    TVIN_SIG_FMT_CVBS_PAL_CN,
    TVIN_SIG_FMT_CVBS_SECAM,
    TVIN_SIG_FMT_BT656IN_576I,
    TVIN_SIG_FMT_BT656IN_480I,
    TVIN_SIG_FMT_BT601IN_576I,
    TVIN_SIG_FMT_BT601IN_480I,
    TVIN_SIG_FMT_CAMERA_640X480P_30Hz,
    TVIN_SIG_FMT_CAMERA_800X600P_30Hz,
    TVIN_SIG_FMT_CAMERA_1024X768P_30Hz,
    TVIN_SIG_FMT_CAMERA_1920X1080P_30Hz,
    TVIN_SIG_FMT_MAX,
} tvin_sig_fmt_t;

//tvin signal status
typedef enum tvin_sig_status_e {
    TVIN_SIG_STATUS_NULL = 0,   // Processing status from init to the finding of the 1st confirmed status
    TVIN_SIG_STATUS_NOSIG,      // Confirmed status of "no signal     - physically no   signal                "
    TVIN_SIG_STATUS_UNSTABLE,   // Confirmed status of "unstable      - physically bad  signal                "
    TVIN_SIG_STATUS_NOTSUP,      // Confirmed status of "not supported - physically good signal & not supported"
    TVIN_SIG_STATUS_STABLE,     // Confirmed status of "stable        - physically good signal & supported    "

} tvin_sig_status_t;

typedef struct tvin_para_s {
    enum tvin_port_e port;
    enum tvin_sig_fmt_e    fmt;
    enum tvin_sig_status_e status;
    unsigned cap_addr;
    unsigned int cap_flag : 1;
} tvin_para_t;


typedef struct vdin_regs_s {
    unsigned int val  : 32;
    unsigned int reg  : 14;
    unsigned int port :  2; // port port_addr            port_data            remark
                        // 0    NA                   NA                   direct access
                        // 1    VPP_CHROMA_ADDR_PORT VPP_CHROMA_DATA_PORT CM port registers
                        // 2    NA                   NA                   reserved
                        // 3    NA                   NA                   reserved
    unsigned int bit  :  5;
    unsigned int wid  :  5;
    unsigned int mode :  1; // 0:read, 1:write
    unsigned int rsv  :  5;
} vdin_regs_t;


// ***************************************************************************
// *** IOCTL command definitions *****************************************
// ***************************************************************************

#define VDIN_IOC_MAGIC 'T'

#if 0
#define VDIN_IOCS_CLKGATE   _IOW(VDIN_IOC_MAGIC, 0x01, struct vdin_clkgate_cfg_s)
#define VDIN_IOCS_MPEG      _IOW(VDIN_IOC_MAGIC, 0x02, struct vdin_mpeg_cfg_s)
#define VDIN_IOCS_SRC_MUX   _IOW(VDIN_IOC_MAGIC, 0x03, struct vdin_src_mux_cfg_s)
#define VDIN_IOCS_HSCL      _IOW(VDIN_IOC_MAGIC, 0x05, struct vdin_hscl_cfg_s)
#define VDIN_IOCS_MATRIX    _IOW(VDIN_IOC_MAGIC, 0x06, enum   vdin_matrix_csc_e)
#define VDIN_IOCS_LFIFO     _IOW(VDIN_IOC_MAGIC, 0x07, struct vdin_lfifo_cfg_s)
#define VDIN_IOCS_OUTPUT    _IOW(VDIN_IOC_MAGIC, 0x08, struct vdin_output_cfg_s)
#define VDIN_IOCS_HIST      _IOW(VDIN_IOC_MAGIC, 0x09, struct vdin_hist_cfg_s)
#define VDIN_IOCS_INPUT_WIN _IOW(VDIN_IOC_MAGIC, 0x0A, struct vdin_input_win_cfg_s)
#define VDIN_IOCS_MEAS      _IOW(VDIN_IOC_MAGIC, 0x0B, struct vdin_meas_cfg_s)
#define VDIN_IOCS_BBAR      _IOW(VDIN_IOC_MAGIC, 0x11, struct vdin_bbar_cfg_s)
#endif
#define VDIN_IOC_START_DEC  _IOW(VDIN_IOC_MAGIC, 0x01, struct tvin_para_s)
#define VDIN_IOC_STOP_DEC   _IO(VDIN_IOC_MAGIC, 0x02)
#define VDIN_IOC_G_PARA _IOR(VDIN_IOC_MAGIC, 0x03, struct tvin_para_s)
#define VDIN_IOC_S_PARA _IOR(VDIN_IOC_MAGIC, 0x04, struct tvin_para_s)
#define VDIN_IOC_DEBUG      _IOWR(VDIN_IOC_MAGIC, 0x05, unsigned long long)

#endif


